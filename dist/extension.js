"use strict";var N=Object.create;var L=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var $=(r,e)=>{for(var t in e)L(r,t,{get:e[t],enumerable:!0})},U=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of P(e))!_.call(r,n)&&n!==t&&L(r,n,{get:()=>e[n],enumerable:!(s=W(e,n))||s.enumerable});return r};var C=(r,e,t)=>(t=r!=null?N(j(r)):{},U(e||!r||!r.__esModule?L(t,"default",{value:r,enumerable:!0}):t,r)),Z=r=>U(L({},"__esModule",{value:!0}),r);var K={};$(K,{activate:()=>q,deactivate:()=>B});module.exports=Z(K);var a=C(require("vscode")),w=C(require("path"));var A=C(require("vscode")),M=/[\p{Mn}\u0300-\u036f]/gu;function E(r,e){if(!r||!e)return e;let t=r.length,s=e.length;if(s>=t)return S(r,e);let n=S(r.substring(0,s),e),c=r.substring(s);return n+c}function S(r,e){if(!r||!e)return e;let t=r.length,s=e.length,n=r.toUpperCase(),c=r.toLowerCase();if(r===n)return e.toUpperCase();if(r===c)return e.toLowerCase();if(t>0&&r[0]===n[0]&&r.slice(1)===c.slice(1))return e[0].toUpperCase()+e.slice(1).toLowerCase();let o=new Array(s),i=Math.min(t,s);for(let g=0;g<i;g++){let l=r[g],d=c[g];o[g]=l===d?e[g].toLowerCase():e[g].toUpperCase()}if(s>i){let d=r[t-1]!==c[t-1]?u=>u.toUpperCase():u=>u.toLowerCase();for(let u=i;u<s;u++)o[u]=d(e[u])}return o.join("")}function b(r){if(!r||typeof r!="object")return A.l10n.t("Invalid mappings: Not an object.");for(let[e,t]of Object.entries(r)){if(typeof e!="string"||e.length!==1)return A.l10n.t("Invalid key: '{key}'. Keys must be single characters.",{key:e});if(typeof t!="string")return A.l10n.t("Invalid value for key '{key}': '{value}'. Values must be strings.",{key:e,value:t})}return""}function k(r){return Array.from(new Set(r.split(`
`).map(e=>e.trim()).filter(e=>e.length>0)))}var v=C(require("fs")),D=C(require("path"));var O=[{language:"czech",letters:[{letter:"\xE1",ascii:"a"},{letter:"\xC1",ascii:"A"},{letter:"\u010D",ascii:"c"},{letter:"\u010C",ascii:"C"},{letter:"\u010F",ascii:"d"},{letter:"\u010E",ascii:"D"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\u011B",ascii:"e"},{letter:"\u011A",ascii:"E"},{letter:"\xED",ascii:"i"},{letter:"\xCD",ascii:"I"},{letter:"\u0148",ascii:"n"},{letter:"\u0147",ascii:"N"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\u0159",ascii:"r"},{letter:"\u0158",ascii:"R"},{letter:"\u0161",ascii:"s"},{letter:"\u0160",ascii:"S"},{letter:"\u0165",ascii:"t"},{letter:"\u0164",ascii:"T"},{letter:"\xFA",ascii:"u"},{letter:"\xDA",ascii:"U"},{letter:"\u016F",ascii:"u"},{letter:"\u016E",ascii:"U"},{letter:"\xFD",ascii:"y"},{letter:"\xDD",ascii:"Y"},{letter:"\u017E",ascii:"z"},{letter:"\u017D",ascii:"Z"}]},{language:"danish",letters:[{letter:"\xE6",ascii:"ae"},{letter:"\xC6",ascii:"Ae"},{letter:"\xF8",ascii:"oe"},{letter:"\xD8",ascii:"Oe"},{letter:"\xE5",ascii:"aa"},{letter:"\xC5",ascii:"Aa"}]},{language:"french",letters:[{letter:"\xE0",ascii:"a"},{letter:"\xC0",ascii:"A"},{letter:"\xE2",ascii:"a"},{letter:"\xC2",ascii:"A"},{letter:"\xE4",ascii:"a"},{letter:"\xC4",ascii:"A"},{letter:"\xE6",ascii:"ae"},{letter:"\xC6",ascii:"Ae"},{letter:"\xE7",ascii:"c"},{letter:"\xC7",ascii:"C"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xE8",ascii:"e"},{letter:"\xC8",ascii:"E"},{letter:"\xEA",ascii:"e"},{letter:"\xCA",ascii:"E"},{letter:"\xEB",ascii:"e"},{letter:"\xCB",ascii:"E"},{letter:"\xEF",ascii:"i"},{letter:"\xCF",ascii:"I"},{letter:"\xEE",ascii:"i"},{letter:"\xCE",ascii:"I"},{letter:"\xF4",ascii:"o"},{letter:"\xD4",ascii:"O"},{letter:"\xF6",ascii:"o"},{letter:"\xD6",ascii:"O"},{letter:"\u0153",ascii:"oe"},{letter:"\u0152",ascii:"Oe"},{letter:"\xF9",ascii:"u"},{letter:"\xD9",ascii:"U"},{letter:"\xFB",ascii:"u"},{letter:"\xDB",ascii:"U"},{letter:"\xFC",ascii:"u"},{letter:"\xDC",ascii:"U"},{letter:"\xFF",ascii:"y"},{letter:"\u0178",ascii:"Y"}]},{language:"german",letters:[{letter:"\xE4",ascii:"ae"},{letter:"\xC4",ascii:"Ae"},{letter:"\xF6",ascii:"oe"},{letter:"\xD6",ascii:"Oe"},{letter:"\xFC",ascii:"ue"},{letter:"\xDC",ascii:"Ue"},{letter:"\xDF",ascii:"ss"},{letter:"\u1E9E",ascii:"SS"}]},{language:"hungarian",letters:[{letter:"\xE1",ascii:"a"},{letter:"\xC1",ascii:"A"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xED",ascii:"i"},{letter:"\xCD",ascii:"I"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\xF6",ascii:"o"},{letter:"\xD6",ascii:"O"},{letter:"\u0151",ascii:"o"},{letter:"\u0150",ascii:"O"},{letter:"\xFA",ascii:"u"},{letter:"\xDA",ascii:"U"},{letter:"\xFC",ascii:"u"},{letter:"\xDC",ascii:"U"},{letter:"\u0171",ascii:"u"},{letter:"\u0170",ascii:"U"}]},{language:"polish",letters:[{letter:"\u0105",ascii:"a"},{letter:"\u0104",ascii:"A"},{letter:"\u0107",ascii:"c"},{letter:"\u0106",ascii:"C"},{letter:"\u0119",ascii:"e"},{letter:"\u0118",ascii:"E"},{letter:"\u0142",ascii:"l"},{letter:"\u0141",ascii:"L"},{letter:"\u0144",ascii:"n"},{letter:"\u0143",ascii:"N"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\u015B",ascii:"s"},{letter:"\u015A",ascii:"S"},{letter:"\u017A",ascii:"z"},{letter:"\u0179",ascii:"Z"},{letter:"\u017C",ascii:"z"},{letter:"\u017B",ascii:"Z"}]},{language:"slovak",letters:[{letter:"\xE1",ascii:"a"},{letter:"\xC1",ascii:"A"},{letter:"\xE4",ascii:"a"},{letter:"\xC4",ascii:"A"},{letter:"\u010D",ascii:"c"},{letter:"\u010C",ascii:"C"},{letter:"\u010F",ascii:"d"},{letter:"\u010E",ascii:"D"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xED",ascii:"i"},{letter:"\xCD",ascii:"I"},{letter:"\u013E",ascii:"l"},{letter:"\u013D",ascii:"L"},{letter:"\u013A",ascii:"l"},{letter:"\u0139",ascii:"L"},{letter:"\u0148",ascii:"n"},{letter:"\u0147",ascii:"N"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\xF4",ascii:"o"},{letter:"\xD4",ascii:"O"},{letter:"\u0155",ascii:"r"},{letter:"\u0154",ascii:"R"},{letter:"\u0161",ascii:"s"},{letter:"\u0160",ascii:"S"},{letter:"\u0165",ascii:"t"},{letter:"\u0164",ascii:"T"},{letter:"\xFA",ascii:"u"},{letter:"\xDA",ascii:"U"},{letter:"\xFD",ascii:"y"},{letter:"\xDD",ascii:"Y"},{letter:"\u017E",ascii:"z"},{letter:"\u017D",ascii:"Z"}]},{language:"spanish",letters:[{letter:"\xE1",ascii:"a"},{letter:"\xC1",ascii:"A"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xED",ascii:"i"},{letter:"\xCD",ascii:"I"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\xFA",ascii:"u"},{letter:"\xDA",ascii:"U"},{letter:"\xFC",ascii:"u"},{letter:"\xDC",ascii:"U"},{letter:"\xF1",ascii:"n"},{letter:"\xD1",ascii:"N"}]},{language:"swedish",letters:[{letter:"\xE5",ascii:"aa"},{letter:"\xC5",ascii:"Aa"},{letter:"\xE4",ascii:"ae"},{letter:"\xC4",ascii:"Ae"},{letter:"\xF6",ascii:"oe"},{letter:"\xD6",ascii:"Oe"}]},{language:"portuguese",letters:[{letter:"\xE1",ascii:"a"},{letter:"\xC1",ascii:"A"},{letter:"\xE2",ascii:"a"},{letter:"\xC2",ascii:"A"},{letter:"\xE3",ascii:"a"},{letter:"\xC3",ascii:"A"},{letter:"\xE0",ascii:"a"},{letter:"\xC0",ascii:"A"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xEA",ascii:"e"},{letter:"\xCA",ascii:"E"},{letter:"\xED",ascii:"i"},{letter:"\xCD",ascii:"I"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\xF4",ascii:"o"},{letter:"\xD4",ascii:"O"},{letter:"\xF5",ascii:"o"},{letter:"\xD5",ascii:"O"},{letter:"\xFA",ascii:"u"},{letter:"\xDA",ascii:"U"},{letter:"\xE7",ascii:"c"},{letter:"\xC7",ascii:"C"}]},{language:"italian",letters:[{letter:"\xE0",ascii:"a"},{letter:"\xC0",ascii:"A"},{letter:"\xE8",ascii:"e"},{letter:"\xC8",ascii:"E"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xEC",ascii:"i"},{letter:"\xCC",ascii:"I"},{letter:"\xF2",ascii:"o"},{letter:"\xD2",ascii:"O"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\xF9",ascii:"u"},{letter:"\xD9",ascii:"U"}]},{language:"norwegian",letters:[{letter:"\xE6",ascii:"ae"},{letter:"\xC6",ascii:"Ae"},{letter:"\xF8",ascii:"oe"},{letter:"\xD8",ascii:"Oe"},{letter:"\xE5",ascii:"aa"},{letter:"\xC5",ascii:"Aa"}]},{language:"icelandic",letters:[{letter:"\xE1",ascii:"a"},{letter:"\xC1",ascii:"A"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xED",ascii:"i"},{letter:"\xCD",ascii:"I"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\xFA",ascii:"u"},{letter:"\xDA",ascii:"U"},{letter:"\xFD",ascii:"y"},{letter:"\xDD",ascii:"Y"},{letter:"\xF0",ascii:"d"},{letter:"\xD0",ascii:"D"},{letter:"\xFE",ascii:"th"},{letter:"\xDE",ascii:"Th"},{letter:"\xE6",ascii:"ae"},{letter:"\xC6",ascii:"Ae"},{letter:"\xF6",ascii:"o"},{letter:"\xD6",ascii:"O"}]},{language:"dutch",letters:[{letter:"\xE1",ascii:"a"},{letter:"\xC1",ascii:"A"},{letter:"\xE9",ascii:"e"},{letter:"\xC9",ascii:"E"},{letter:"\xEB",ascii:"e"},{letter:"\xCB",ascii:"E"},{letter:"\xED",ascii:"i"},{letter:"\xCD",ascii:"I"},{letter:"\xEF",ascii:"i"},{letter:"\xCF",ascii:"I"},{letter:"\xF3",ascii:"o"},{letter:"\xD3",ascii:"O"},{letter:"\xF6",ascii:"o"},{letter:"\xD6",ascii:"O"},{letter:"\xFA",ascii:"u"},{letter:"\xDA",ascii:"U"},{letter:"\xFC",ascii:"u"},{letter:"\xDC",ascii:"U"}]},{language:"croatian",letters:[{letter:"\u010D",ascii:"c"},{letter:"\u010C",ascii:"C"},{letter:"\u0107",ascii:"c"},{letter:"\u0106",ascii:"C"},{letter:"\u0111",ascii:"d"},{letter:"\u0110",ascii:"D"},{letter:"\u0161",ascii:"s"},{letter:"\u0160",ascii:"S"},{letter:"\u017E",ascii:"z"},{letter:"\u017D",ascii:"Z"}]},{language:"slovenian",letters:[{letter:"\u010D",ascii:"c"},{letter:"\u010C",ascii:"C"},{letter:"\u0161",ascii:"s"},{letter:"\u0160",ascii:"S"},{letter:"\u017E",ascii:"z"},{letter:"\u017D",ascii:"Z"}]},{language:"romanian",letters:[{letter:"\u0103",ascii:"a"},{letter:"\u0102",ascii:"A"},{letter:"\xE2",ascii:"a"},{letter:"\xC2",ascii:"A"},{letter:"\xEE",ascii:"i"},{letter:"\xCE",ascii:"I"},{letter:"\u0219",ascii:"s"},{letter:"\u0218",ascii:"S"},{letter:"\u0163",ascii:"t"},{letter:"\u0162",ascii:"T"},{letter:"\u021B",ascii:"t"},{letter:"\u021A",ascii:"T"}]},{language:"lithuanian",letters:[{letter:"\u0105",ascii:"a"},{letter:"\u0104",ascii:"A"},{letter:"\u010D",ascii:"c"},{letter:"\u010C",ascii:"C"},{letter:"\u0119",ascii:"e"},{letter:"\u0118",ascii:"E"},{letter:"\u0117",ascii:"e"},{letter:"\u0116",ascii:"E"},{letter:"\u012F",ascii:"i"},{letter:"\u012E",ascii:"I"},{letter:"\u0161",ascii:"s"},{letter:"\u0160",ascii:"S"},{letter:"\u0173",ascii:"u"},{letter:"\u0172",ascii:"U"},{letter:"\u016B",ascii:"u"},{letter:"\u016A",ascii:"U"},{letter:"\u017E",ascii:"z"},{letter:"\u017D",ascii:"Z"}]},{language:"latvian",letters:[{letter:"\u0101",ascii:"a"},{letter:"\u0100",ascii:"A"},{letter:"\u010D",ascii:"c"},{letter:"\u010C",ascii:"C"},{letter:"\u0113",ascii:"e"},{letter:"\u0112",ascii:"E"},{letter:"\u0123",ascii:"g"},{letter:"\u0122",ascii:"G"},{letter:"\u012B",ascii:"i"},{letter:"\u012A",ascii:"I"},{letter:"\u0137",ascii:"k"},{letter:"\u0136",ascii:"K"},{letter:"\u013C",ascii:"l"},{letter:"\u013B",ascii:"L"},{letter:"\u0146",ascii:"n"},{letter:"\u0145",ascii:"N"},{letter:"\u0161",ascii:"s"},{letter:"\u0160",ascii:"S"},{letter:"\u016B",ascii:"u"},{letter:"\u016A",ascii:"U"},{letter:"\u017E",ascii:"z"},{letter:"\u017D",ascii:"Z"}]}],z=Object.fromEntries(O.flatMap(r=>r.letters.map(e=>[e.letter,e.ascii])));var R=class r{dictionary=new Map;ignoredWords;currentLanguage;isReady=!1;dictionaryBasePath;restorationCache=new Map;MAX_CACHE_SIZE=1e3;enableSuffixMatching;static WORD_REGEX=/[\p{L}\p{M}'\u2019-]+/gu;constructor(e,t=[],s=!1){if(!e)throw new Error("Language parameter is required");this.currentLanguage=e,this.enableSuffixMatching=s,this.ignoredWords=new Set(t.map(n=>this.removeDiacritics(n.toLowerCase()))),this.dictionaryBasePath=D.join(__dirname,"dictionary")}async initialize(){if(this.isReady)return;if(!this.currentLanguage)throw new Error("No language specified for initialization");let e=D.join(this.dictionaryBasePath,`dict_${this.currentLanguage}.txt`),t=await this.readDictionaryFile(e);this.buildDictionary(t),this.isReady=!0}async readDictionaryFile(e){return new Promise((t,s)=>{v.access(e,v.constants.F_OK,n=>{if(n){s(new Error(`Dictionary file not found: ${e}`));return}let c=v.createReadStream(e,{encoding:"utf8",highWaterMark:64*1024}),o="";c.on("data",i=>{o+=i}),c.on("end",()=>t(o)),c.on("error",i=>{s(new Error(`Error reading dictionary file: ${e}. Error: ${i.message}`))})})})}buildDictionary(e){let t=e.split(`
`),s=0,n=0;for(let c=0;c<t.length;c++){let o=t[c].trim();if(!o)continue;let i=o.indexOf("	");if(i===-1){n++;continue}try{let g=o.substring(0,i),l=o.substring(i+1);if(!g||!l){n++;continue}let d=parseInt(l,10);if(isNaN(d)){n++;continue}let u=this.removeDiacritics(g),p=this.dictionary.get(u);p||(p=[],this.dictionary.set(u,p));let m={word:g,frequency:d},h=0,f=p.length;for(;h<f;){let y=h+f>>>1;p[y].frequency>d?h=y+1:f=y}p.splice(h,0,m),s++}catch{n++;continue}}console.log(`Loaded ${s} words for language ${this.currentLanguage} (${n} errors)`)}restoreDiacritics(e){if(!this.isReady)throw new Error("Accent restorer not initialized. Call initialize() first.");return e.replace(r.WORD_REGEX,t=>{let s=this.restorationCache.get(t);if(s!==void 0)return s;let n=this.removeDiacritics(t.toLowerCase());if(this.ignoredWords.has(n))return this.addToCache(t,t),t;let o=this.findBestMatch(t,n)||t;return this.addToCache(t,o),o})}addToCache(e,t){if(this.restorationCache.size>=this.MAX_CACHE_SIZE){let s=this.restorationCache.keys().next().value;s&&this.restorationCache.delete(s)}this.restorationCache.set(e,t)}findBestMatch(e,t){let s=t||this.removeDiacritics(e.toLowerCase()),n=this.dictionary.get(s);if(!n||n.length===0)return this.enableSuffixMatching?this.findSuffixMatch(e,s):null;let c=n[0].word;return E(e,c)}findSuffixMatch(e,t,s=2){let n=e.toLowerCase(),c=t.length,o=Math.max(s,Math.floor(c*.6));for(let i=c-1;i>=o;i--){let g=t.substring(0,i),l=this.dictionary.get(g);if(l&&l.length>0){let d=l[0].word,u=n.substring(i),p=d+u;return E(e,p)}}return null}removeDiacritics(e){if(!e||typeof e!="string")return e;let t=this.currentLanguage?O.find(i=>i.language===this.currentLanguage):void 0,s=e.toLowerCase().normalize("NFKD").replace(M,"");if(!t?.letters.length)return s;let n=Object.fromEntries(t.letters.map(i=>[i.letter,i.ascii])),c=t.letters.map(i=>i.letter).join(""),o=new RegExp(`[${c}]`,"g");return s.replace(o,i=>n[i]??i)}async changeLanguage(e){e===this.currentLanguage&&this.isReady||(this.dictionary.clear(),this.restorationCache.clear(),this.currentLanguage=e,this.isReady=!1,await this.initialize())}dispose(){this.dictionary.clear(),this.ignoredWords.clear(),this.restorationCache.clear(),this.isReady=!1,this.currentLanguage=void 0}getMemoryUsage(){let e=Array.from(this.dictionary.values()).reduce((s,n)=>s+n.length,0);return`Dictionary: ${this.dictionary.size} base forms, ${e} total entries, Cache: ${this.restorationCache.size} words, Language: ${this.currentLanguage||"none"}`}getIsReady(){return this.isReady}getCurrentLanguage(){return this.currentLanguage}},F=R;var x=class{removeDiacritics(e,t={}){if(!e||typeof e!="string")return e;try{let s={...z,...t};if(Object.keys(s).length===0)return this.normalize(e);let n=Object.keys(s).map(i=>i).join(""),c=new RegExp(`[${n}]`,"g"),o=e.replace(c,i=>{let g=s[i];return E(i,g)});return this.normalize(o)}catch(s){return console.error("Error in removeDiacritics:",s),e}}normalize(e){return e.normalize("NFKD").replace(M,"")}},I=x;function q(r){let e;(l=>(l.ReportIssue="ps-replace-accents.reportIssue",l.ReplaceDiacriticts="ps-replace-accents.removeDiacritics",l.ReplaceDiacritictsFileOrFolder="ps-replace-accents.removeDiacriticsFileOrFolder",l.RestoreDiacritics="ps-replace-accents.restoreDiacritics"))(e||={});let t=async(c,o=!1,i)=>{let g=a.window.activeTextEditor;if(!g)return-1;let l=g.document,d=g.selections;if(!d.length||d.every(u=>u.isEmpty)){let u=new a.Range(0,0,l.lineCount-1,l.lineAt(l.lineCount-1).text.length),p=l.getText(u),m=p.length>0?c(p,i):"";return p!==m&&await g.edit(h=>h.replace(u,m)),1}return await g.edit(u=>{for(let p of d){if(p.isEmpty)continue;let m=p;if(o){let y=l.lineAt(p.start.line),T=l.lineAt(p.end.line);m=new a.Selection(y.range.start,T.range.end)}let h=l.getText(m),f=h.length>0?c(h,i):"";h!==f&&u.replace(m,f)}}),0},s=async(c,o)=>{let i=new I,g=c.fsPath,l=w.basename(g),d=w.dirname(g),u=i.removeDiacritics(l,o);if(u.trim().length===0)return;if(l===u){a.window.showWarningMessage(a.l10n.t("No diacritics were removed from '{0}'.",l));return}let p=w.join(d,u),m=a.Uri.file(p),h=!1;try{await a.workspace.fs.stat(m);let f=await a.window.showWarningMessage(a.l10n.t("'{0}' already exists. Do you want to overwrite it?",u),{modal:!0},a.l10n.t("Yes"),a.l10n.t("No"));if(f===a.l10n.t("Yes"))h=!0;else if(f===a.l10n.t("No"))return}catch{}try{await a.workspace.fs.rename(c,a.Uri.file(p),{overwrite:h}),a.window.showInformationMessage(a.l10n.t("Renamed: {0} to {1}",l,u))}catch(f){a.window.showErrorMessage(a.l10n.t("Failed to rename '{0}': {1}",l,f.message))}},n={"ps-replace-accents.reportIssue":()=>a.env.openExternal(a.Uri.parse("https://github.com/playfulsparkle/vscode_ps_replace_accents/issues")),"ps-replace-accents.removeDiacritics":async()=>{let c=a.workspace.getConfiguration("ps-replace-accents").get("userCharacterMapping",{}),o=b(c);if(o){a.window.showErrorMessage(o);return}let i=new I,g=await t(d=>i.removeDiacritics(d,c));if(!1)switch(g){case 1:a.window.showInformationMessage(a.l10n.t("All accented characters were replaced in the selected text."));break;case 0:a.window.showInformationMessage(a.l10n.t("All accented characters were replaced in the entire document."));break}},"ps-replace-accents.removeDiacriticsFileOrFolder":async(c,o)=>{if(!c)return;let i=a.workspace.getConfiguration("ps-replace-accents").get("userCharacterMapping",{}),g=b(i);if(g){a.window.showErrorMessage(g);return}let l=o&&o.length>0?o:[c];for(let d of l)await s(d,i);l.length>1&&a.window.showInformationMessage(a.l10n.t("Diacritics removed from {0} items.",l.length))},"ps-replace-accents.restoreDiacritics":async()=>{let c=a.workspace.getConfiguration("ps-replace-accents").get("diacriticRestoreSuffixMatching",!1),o=a.workspace.getConfiguration("ps-replace-accents").get("diacriticIgnoredWords",""),i=k(o),g=a.workspace.getConfiguration("ps-replace-accents").get("diacriticDictionary","hungarian"),l=new F(g,i,c);await l.initialize(),await t(d=>l.restoreDiacritics(d)),l.dispose()}};for(let[c,o]of Object.entries(n)){let i=a.commands.registerCommand(c,o);r.subscriptions.push(i)}}function B(){}0&&(module.exports={activate,deactivate});
